{% load static %}
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>教育评估</title>
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
</head>
<body>
    <div class="background-texture"></div>
    
    <div class="dashboard-container">
        <nav class="dashboard-nav">
            <h1 class="nav-title">📝 教育评估</h1>
            <div class="nav-links">
                <a href="/dashboard/" class="nav-link">仪表盘</a>
                <a href="/recommendation/" class="nav-link">学习推荐</a>
                <a href="/analysis/" class="nav-link">学习分析</a>
                <a href="/learning-path/" class="nav-link">学习路径</a>
                <a href="/name-customization/" class="nav-link">自定义名称</a>
                <a href="/upload/" class="nav-link">上传数据</a>
            </div>
        </nav>
        
        <div class="dashboard-content">
            <div class="assessment-panel">
                <div class="upload-section">
                    <h3>上传题目图片</h3>
                    <div class="upload-area" id="uploadArea">
                        <input type="file" id="imageInput" accept="image/*" style="display: none;">
                        <div class="upload-placeholder">
                            <span class="upload-icon">📷</span>
                            <p>点击或拖拽上传题目图片</p>
                            <p class="upload-hint">支持 JPG、PNG 格式</p>
                        </div>
                        <img id="previewImage" style="display: none;">
                    </div>
                </div>
                
                <div class="ocr-section">
                    <div class="ocr-options">
                        <label class="checkbox-label">
                            <input type="checkbox" id="ocrEnabled" checked>
                            <span>启用OCR自动识别</span>
                        </label>
                    </div>
                    
                    <div class="ocr-engine-select" id="ocrEngineSection">
                        <label>选择OCR引擎</label>
                        <select id="ocrEngine" class="styled-select">
                            <option value="paddleocr">PaddleOCR（快速，适合文字识别）</option>
                            <option value="paddleocr-vl">PaddleOCR-VL（强大，适合复杂文档）</option>
                        </select>
                    </div>
                    
                    <button id="recognizeBtn" class="primary-button" disabled>开始识别</button>
                </div>
                
                <div class="result-section">
                    <h3>识别结果</h3>
                    <textarea id="resultText" class="result-textarea" placeholder="识别的题目内容将显示在这里..." readonly></textarea>
                    <button id="editBtn" class="secondary-button" disabled>编辑内容</button>
                </div>
                
                <div class="question-info-section">
                    <h3>题目信息</h3>
                    <div class="info-row">
                        <label>知识点 ID</label>
                        <input type="number" id="skillId" min="0" value="0" placeholder="题目所属的知识点 ID">
                    </div>
                    <div class="info-row">
                        <label>难度级别</label>
                        <select id="difficulty" class="styled-select">
                            <option value="简单">简单</option>
                            <option value="中等" selected>中等</option>
                            <option value="困难">困难</option>
                        </select>
                    </div>
                    <div class="info-row">
                        <label>数据集名称</label>
                        <input type="text" id="datasetName" value="custom_images" placeholder="用于标识这个数据集">
                    </div>
                </div>
                
                <div class="save-section">
                    <button id="saveBtn" class="primary-button" disabled>保存题目</button>
                </div>
                
                <div class="manual-section">
                    <h3>手动输入</h3>
                    <textarea id="manualInput" class="manual-textarea" placeholder="如果OCR识别不准确，可以手动输入题目内容..."></textarea>
                    <button id="analyzeBtn" class="primary-button">分析题目</button>
                </div>
            </div>
            
            <div class="analysis-results" id="analysisResults" style="display: none;">
                <h3>题目分析结果</h3>
                <div id="analysisContent"></div>
            </div>
        </div>
    </div>
    
    <script src="{% static 'js/assessment.js' %}"></script>
</body>
</html>