{% load static %}
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>上传数据</title>
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
</head>
<body>
    <div class="background-texture"></div>
    
    <div class="dashboard-container">
        <nav class="dashboard-nav">
            <h1 class="nav-title">📤 上传数据</h1>
            <div class="nav-links">
                <a href="/dashboard/" class="nav-link">仪表盘</a>
                <a href="/recommendation/" class="nav-link">学习推荐</a>
                <a href="/analysis/" class="nav-link">学习分析</a>
                <a href="/learning-path/" class="nav-link">学习路径</a>
                <a href="/assessment/" class="nav-link">教育评估</a>
                <a href="/name-customization/" class="nav-link">自定义名称</a>
            </div>
        </nav>
        
        <div class="dashboard-content">
            <div class="upload-container">
                <div class="upload-section">
                    <h3>上传答题数据</h3>
                    <div class="upload-area" id="uploadArea">
                        <input type="file" id="csvInput" accept=".csv,.tsv" style="display: none;">
                        <div class="upload-placeholder">
                            <span class="upload-icon">📁</span>
                            <p>点击或拖拽上传CSV/TSV文件</p>
                            <p class="upload-hint">支持 CSV、TSV 格式，需包含 user_id, item_id, skill_id, correct 列</p>
                        </div>
                    </div>
                    
                    <div class="file-info" id="fileInfo" style="display: none;">
                        <p><strong>文件名:</strong> <span id="fileName"></span></p>
                        <p><strong>文件大小:</strong> <span id="fileSize"></span></p>
                    </div>
                    
                    <div class="upload-options">
                        <div class="option-group">
                            <label>数据集名称</label>
                            <input type="text" id="datasetName" class="styled-input" placeholder="例如: my_dataset">
                        </div>
                        
                        <div class="option-group">
                            <label>分隔符</label>
                            <select id="separator" class="styled-select">
                                <option value=",">逗号 (,)</option>
                                <option value="\t">制表符 (Tab)</option>
                                <option value=";">分号 (;)</option>
                            </select>
                        </div>
                    </div>
                    
                    <button id="uploadBtn" class="primary-button" disabled>上传数据</button>
                </div>
                
                <div class="upload-progress" id="uploadProgress" style="display: none;">
                    <h3>上传进度</h3>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill" style="width: 0%"></div>
                    </div>
                    <p id="progressText">0%</p>
                </div>
                
                <div class="upload-result" id="uploadResult" style="display: none;">
                    <h3>上传结果</h3>
                    <div id="resultContent"></div>
                </div>
                
                <div class="data-preview" id="dataPreview" style="display: none;">
                    <h3>数据预览</h3>
                    <div id="previewTable"></div>
                </div>
            </div>
        </div>
    </div>
    
    <script src="{% static 'js/upload.js' %}"></script>
</body>
</html>